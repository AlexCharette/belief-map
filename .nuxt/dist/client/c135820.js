(window.webpackJsonp=window.webpackJsonp||[]).push([[11,10,12],{320:function(t,e,n){var content=n(330);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(23).default)("94a7572e",content,!0,{sourceMap:!1})},322:function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.ScientificEvidence="scientificEvidence",t.Observation="observation",t.PersonalConclusion="personalConclusion",t.PersonalAssumption="personalAssumption",t.ReligiousThinking="religiousThinking",t.StatedByAuthority="statedByAuthority",t.UnableToDisprove="unableToDisprove"}(r||(r={}))},324:function(t,e,n){"use strict";n.r(e);n(77);var r=n(0).a.extend({name:"DonutChart",props:["node","segments","circleData"],data:function(){return{numSegments:this.segments.length,strokeWidth:15}},computed:{svgSize:function(){return 2*this.circleData.x},arcSize:function(){return 360/this.segments.length},arcPoints:function(){for(var t=[],i=0;i<this.segments.length;i++){var e=i*this.arcSize;t.push([e,e+this.arcSize])}return t}},methods:{onClick:function(t){this.$store.commit("nodes/set",this.node),this.$store.commit("display/setDisplayBeliefDetails",!0)},getHexColour:function(t){switch(t){case"light-green darken-1":return"#7CB342";case"green darken-1":return"#43A047";case"light-blue darken-1":return"#039BE5";case"blue darken-1":return"#1E88E5";case"indigo darken-1":return"#3949AB";case"deep-purple darken-1":return"#5E35B1";case"amber darken-1":return"#FFB300";case"orange darken-1":return"##FB8C00";case"red darken-1":return"#E53935";case"light-green darken-3":return"#558B2F";case"green darken-3":return"#2E7D32";case"blue darken-3":return"#2979FF";case"indigo darken-3":return"#283593";case"deep-purple darken-3":return"#4527A0";case"amber darken-3":return"#FF8F00";case"orange darken-3":return"#EF6C00";case"red darken-3":return"#C62828";default:return"#FFFFFF"}},describeArc:function(t,e,n,r,o){var c=this.polarToCartesian(t,e,n,o),d=this.polarToCartesian(t,e,n,r),l=o-r<=180?"0":"1";return["M",c.x,c.y,"A",n,n,0,l,0,d.x,d.y].join(" ")},polarToCartesian:function(t,e,n,r){var o=(r-90)*Math.PI/180;return{x:t+n*Math.cos(o),y:e+n*Math.sin(o)}}}}),o=(n(329),n(57)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.numSegments>1?n("svg",{on:{click:t.onClick}},[n("defs",[n("filter",{attrs:{id:t.node.id+"-path-shadow",x:"0",y:"0",width:"200%",height:"200%"}},[n("feOffset",{attrs:{result:"offOut",in:"SourceGraphic",dx:"10",dy:"10"}}),t._v(" "),n("feColorMatrix",{attrs:{result:"matrixOut",in:"offOut",type:"matrix",values:"0.2 0 0 0 0 0 0.2 0 0 0 0 0 0.2 0 0 0 0 0 1 0"}}),t._v(" "),n("feGaussianBlur",{attrs:{result:"blurOut",in:"matrixOut",stdDeviation:"10"}}),t._v(" "),n("feBlend",{attrs:{in:"SourceGraphic",in2:"blurOut",mode:"normal"}})],1)]),t._v(" "),n("circle",{staticClass:"clickable",attrs:{fill:"white",cx:t.circleData.x,cy:t.circleData.y,r:t.circleData.radius,stroke:t.getHexColour(this.segments[0].colour),"stroke-width":1,filter:"url(#"+t.node.id+"-path-shadow)"}}),t._v(" "),t._l(t.segments,(function(e,r){return n("path",{key:r,attrs:{fill:"white",stroke:t.getHexColour(e.colour),"stroke-width":t.strokeWidth+3*e.count,d:t.describeArc(t.circleData.x,t.circleData.y,t.circleData.radius,t.arcPoints[r][0],t.arcPoints[r][1])}})}))],2):n("svg",{on:{click:t.onClick}},[n("defs",[n("filter",{attrs:{id:t.node.id+"-shadow",x:"-35%",y:"-35%",width:"200%",height:"200%"}},[n("feOffset",{attrs:{result:"offOut",in:"SourceGraphic",dx:"5",dy:"7"}}),t._v(" "),n("feColorMatrix",{attrs:{result:"matrixOut",in:"offOut",type:"matrix",values:"0.2 0 0 0 0 0 0.2 0 0 0 0 0 0.2 0 0 0 0 0 0.5 0"}}),t._v(" "),n("feGaussianBlur",{attrs:{result:"blurOut",in:"matrixOut",stdDeviation:"10"}}),t._v(" "),n("feBlend",{attrs:{in:"SourceGraphic",in2:"blurOut",mode:"normal"}})],1)]),t._v(" "),n("circle",{staticClass:"clickable",attrs:{fill:"white",cx:t.circleData.x,cy:t.circleData.y,r:t.circleData.radius,stroke:t.getHexColour(this.segments[0].colour),"stroke-width":t.strokeWidth,filter:"url(#"+t.node.id+"-shadow)"}})])}),[],!1,null,null,null);e.default=component.exports},329:function(t,e,n){"use strict";n(320)},330:function(t,e,n){var r=n(22)(!1);r.push([t.i,".clickable:hover{cursor:pointer}",""]),t.exports=r},333:function(t,e,n){"use strict";n.r(e);n(40),n(225),n(46),n(59);var r=n(0),o=n(322),c=n(324),d=r.a.extend({name:"BeliefNode",components:{DonutChart:c.default},props:["index","node","children","distance","bezierData","shapeData"],data:function(){return{id:this.node.id,name:this.node.name,notes:this.node.notes,references:this.node.references,type:this.node.type,hasChildren:!0,numTypes:0,segmentData:[],isInflated:!1}},computed:{circleData:function(){return{x:this.shapeData.x,y:this.shapeData.y,radius:this.isInflated?this.shapeData.size/2:this.shapeData.size/3}},segments:function(){var t=this,e=[];if(this.hasChildren){var n=this.childrenTypeCount;Object.entries(n).forEach((function(n){if(n[1]>0){var r={type:n[0],count:n[1],colour:t.getTypeColour(n[0])};e.push(r)}}))}else{var r={type:this.type,count:1,colour:t.getTypeColour(this.type)};e.push(r)}return e},childrenTypeCount:function(){if(!this.hasChildren)return 0;var t={scientificEvidence:0,observation:0,personalConclusion:0,personalAssumption:0,religiousThinking:0,statedByAuthority:0,unableToDisprove:0};return this.children.forEach((function(e){var n=e.data.type;t[n]++})),t}},methods:{onClick:function(t){this.$store.commit("nodes/set",this.node),this.$store.state.displayBeliefDetails||this.$store.commit("display/toggleDisplayBeliefDetails")},getTypeColour:function(t){switch(t){case o.a.ScientificEvidence:return"light-green darken-1";case o.a.Observation:return"light-blue darken-1";case o.a.PersonalConclusion:return"indigo darken-1";case o.a.PersonalAssumption:return"deep-purple darken-1";case o.a.ReligiousThinking:return"amber darken-1";case o.a.StatedByAuthority:return"orange darken-1";case o.a.UnableToDisprove:return"red darken-1";default:return"white"}}},created:function(){void 0===this.children&&(this.hasChildren=!1)},mounted:function(){this.numTypes=Object.keys(this.childrenTypeCount).length}}),l=n(57),component=Object(l.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{on:{mouseenter:function(e){t.isInflated=!0},mouseleave:function(e){t.isInflated=!1}}},[n("donut-chart",{attrs:{node:t.node,segments:t.segments,circleData:t.circleData}})],1)}),[],!1,null,"8c21a018",null);e.default=component.exports;installComponents(component,{DonutChart:n(324).default})},338:function(t,e,n){var content=n(364);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(23).default)("457bffea",content,!0,{sourceMap:!1})},363:function(t,e,n){"use strict";n(338)},364:function(t,e,n){var r=n(22)(!1);r.push([t.i,"#tree-container,#tree-container #belief-map{position:relative}#tree-container #belief-map .link{stroke-width:2px!important;fill:transparent!important;stroke:#757575!important}#tree-container #node-container{z-index:1}#tree-container #belief-map,#tree-container #node-container,#tree-container svg{width:100%;height:100%;position:absolute;left:0;top:0;overflow:visible;transform-origin:0 50%}#tree-container .node{position:absolute;box-sizing:border-box;transform:translate(-50%,-50%);display:flex;align-items:center;justify-content:center;box-sizing:content-box;transition:all .8s;transition-timing-function:ease-in-out}",""]),t.exports=r},379:function(t,e,n){"use strict";n.r(e);n(15),n(49),n(158);var r=n(9),o=n(98),c=n(0),d=n(507),l=n(378),h=n(333),f=n(322),m=c.a.extend({name:"D3Tree",components:{BeliefNode:h.default},props:["dataSet"],data:function(){return{nodeWidth:75,nodeHeight:75,heightLevel:225,links:[],nodes:[],currentNode:null,duration:250,index:0,newNode:null,root:null,svg:null,initTransformData:{x:0,y:0}}},computed:{initialTransformStyle:function(){return{transform:"scale(1) translate(".concat(this.initTransformData.x,"px, ").concat(this.initTransformData.y,"px)"),transformOrigin:"center"}}},methods:{nodeStyle:function(t){return t.data.isRoot?{left:this.formatDimension(t.x+this.nodeWidth/2),top:this.formatDimension(t.y+this.nodeHeight/2),width:this.formatDimension(this.nodeWidth),height:this.formatDimension(this.nodeHeight)}:{left:this.formatDimension(this.nodeWidth/2),top:this.formatDimension(this.nodeHeight/2),width:this.formatDimension(this.nodeWidth),height:this.formatDimension(this.nodeHeight)}},addNode:function(){var t=d.a(),e=this.currentNode,n={id:t,name:"Some name",notes:"",type:f.a.ScientificEvidence,references:[],isRoot:!1,children:[]};e.children?e.children.push(n):e.children=[n],this.nodes.push(n),this.links.push({source:e,target:n}),this.update(e)},deleteNode:function(){var t=this;this.currentNode.parent&&this.currentNode.parent.children.length>0&&this.currentNode.parent.children.filter((function(e,n){e.id&&e.id==t.currentNode.id&&(t.currentNode.parent.children.splice(n,1),0===t.currentNode.parent.children.length&&delete t.currentNode.parent.children,t.update(t.currentNode))}))},formatDimension:function(t){return"number"==typeof t?"".concat(t,"px"):-1!==t.indexOf("px")?t:"".concat(t,"px")},addUniqueKey:function(t){for(var e=[t];0!==e.length;){var n=e.pop();if(void 0===n)return void console.log("Node is undefined");n.id=d.a(),n.children&&e.push.apply(e,Object(o.a)(n.children))}return t},initTransform:function(){var t=this.$refs.container.offsetWidth;this.$refs.container.offsetHeight;this.initTransformData.x=Math.floor(t/2),this.initTransformData.y=Math.floor(75)},buildTree:function(t){var e=l.e().nodeSize([150,225])(l.b(t));return[e.descendants(),e.links()]},update:function(source){var t=this,e=this.buildTree(source),n=Object(r.a)(e,2),o=n[0],c=n[1];this.links=c,this.svg=l.d("#belief-map");var d=this.svg.selectAll(".link").data(c,(function(t){return"".concat(t.source.data.id,"-").concat(t.target.data.id)}));d.enter().append("path").style("opacity",0).transition().duration(this.duration).ease(l.a).style("opacity",1).attr("class","link").attr("d",(function(e){return t.diagonal(e)})),d.transition().duration(t.duration).ease(l.a).attr("d",(function(e){return t.diagonal(e)})),d.exit().transition().duration(t.duration).ease(l.a).style("opacity",0).remove(),this.nodes=o},diagonal:function(t){var e=l.c();return e.x((function(t){return t.x})).y((function(t){return t.y})).source((function(t){return t.source})).target((function(t){return t.target})),e(t)},onClick:function(t){this.currentNode=t,t.children?(t._children=t.children,t.children=null):(t.children=t._children,t._children=null),this.update(t)}},watch:{dataSet:function(t,e){this.root=this.dataSet,this.update(this.root),this.initTransform()}},created:function(){var t=this;this.$nuxt.$on("tree-edited",(function(){t.update(t.dataSet)}))},mounted:function(){this.index=0,this.duration=250,this.root=this.dataSet,this.update(this.root),this.initTransform()}}),y=(n(363),n(57)),component=Object(y.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"container",attrs:{id:"tree-container"}},[n("svg",{style:t.initialTransformStyle,attrs:{id:"belief-map"}}),t._v(" "),n("div",{style:t.initialTransformStyle,attrs:{id:"node-container"}},t._l(t.nodes,(function(e,r){return n("belief-node",{key:e.id,staticClass:"node",style:t.nodeStyle(e),attrs:{index:r,node:e.data,children:e.children,shapeData:{x:e.x,y:e.y,size:t.nodeWidth}}})})),1)])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{BeliefNode:n(333).default})},507:function(t,e,n){"use strict";var r,o=new Uint8Array(16);function c(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(o)}var d=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var l=function(t){return"string"==typeof t&&d.test(t)},h=[],f=0;f<256;++f)h.push((f+256).toString(16).substr(1));var m=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(h[t[e+0]]+h[t[e+1]]+h[t[e+2]]+h[t[e+3]]+"-"+h[t[e+4]]+h[t[e+5]]+"-"+h[t[e+6]]+h[t[e+7]]+"-"+h[t[e+8]]+h[t[e+9]]+"-"+h[t[e+10]]+h[t[e+11]]+h[t[e+12]]+h[t[e+13]]+h[t[e+14]]+h[t[e+15]]).toLowerCase();if(!l(n))throw TypeError("Stringified UUID is invalid");return n};e.a=function(t,e,n){var r=(t=t||{}).random||(t.rng||c)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return m(r)}}}]);